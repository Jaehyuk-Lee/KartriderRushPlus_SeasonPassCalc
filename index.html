<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>카트라이더 시즌 패스 계산기</title>
    <style>
        .inputDesc > span {
            display: inline-block;
            width: 200px;
            text-align: right;
        }
        .button {
            background-color: rgb(190, 190, 190);
            border: black 1px solid;
            padding: 10px;
            display: inline-block;
            cursor: pointer;
        }
        .underline {
            text-decoration: underline;
        }
        h2#plan {
            margin-top: 400px;
        }
    </style>
    <script>
        function maxLengthCheck(object){
            if (object.value.length > object.maxLength){
                object.value = object.value.slice(0, object.maxLength);
            }
        }
        function findRemainingDates(){
            return (new Date('2020-07-22T23:59:00') - new Date()) / 1000 / 60 / 60 / 24;
        }
        function calculate(){
            if(!document.getElementById("targetLevel").value || !document.getElementById("yourPoint")) {
                alert("항목을 모두 입력하세요.");
                return;
            }
            let remainingDate = findRemainingDates();
            let targetLevel = document.getElementById("targetLevel").value;
            let yourPoint = document.getElementById("yourPoint").value;

            let needPoint = (targetLevel - 1) * 100 - yourPoint;
            document.getElementById("needPoint").innerText = needPoint;
            document.getElementById("needPointPerDay").innerText = Math.round(needPoint / remainingDate);
            // let dayDivider = document.getElementById("royalPass").checked ? 195 : 180;
            // document.getElementById("needPoint").innerText = needPoint / dayDivider;
        }
    </script>
</head>
<body>
    <h1>카트라이더 시즌 패스 계산기</h1>

    <h2>시즌1</h2>
    <b>시즌1 기간: 2020.05.12 ~ 2020.07.22</b><br>
    <b>남은 날짜: <span id="remainDate">일</span></b>(<span class="underline">오늘 제외</span>)<br>
    <!-- <div class="inputDesc"><span>로얄패스 구매 여부:</span><input type="checkbox" id="royalPass"></div> -->
    <div class="inputDesc"><span>현재 나의 시즌 포인트:</span> <input type="number" id="yourPoint" maxlength="5" min="0" max="19900" oninput="maxLengthCheck(this)"></div>
    <div class="inputDesc"><span>목표 레벨:</span> <input type="number" id="targetLevel" maxlength="3" min="1" max="200" oninput="maxLengthCheck(this)"></div>
    <div class="button" onclick="calculate()">계산하기</div>
    <div>필요한 포인트: <span id="needPoint">0</span>포인트</div>
    <div>1일당 획득해야 할 포인트: <span id="needPointPerDay">0</span>포인트</div>

    <h2>패스 기본 상식</h2>
    로얄패스 일일퀘스트 풀보상: 195포인트<br>
    무료패스 일일퀘스트 풀보상: 180포인트<br>
    로얄패스 도전퀘스트 풀보상: 매주 750포인트

    <h2 id="plan">계산기 변경 예정 사항</h2>
    <b>* 로얄패스 도전퀘스트 계산도 포함시킬 예정</b><br>
    * 디자인 개선<br>
    * 빨리 만드느라 대충 기능만 하게 만들었습니다.
</body>

<script>
    document.getElementById("remainDate").innerText = Math.floor(findRemainingDates()) + "일";
</script>
</html>